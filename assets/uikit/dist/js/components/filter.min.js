/*! UIkit 3.23.13 | https://www.getuikit.com | (c) 2014 - 2025 YOOtheme | MIT License */(function(s,y){typeof exports=="object"&&typeof module<"u"?module.exports=y(require("uikit-util")):typeof define=="function"&&define.amd?define("uikitfilter",["uikit-util"],y):(s=typeof globalThis<"u"?globalThis:s||self,s.UIkitFilter=y(s.UIkit.util))})(this,(function(s){"use strict";function y(e,n=[]){try{return e?s.startsWith(e,"{")?JSON.parse(e):n.length&&!s.includes(e,":")?{[n[0]]:e}:e.split(";").reduce((o,t)=>{const[f,r]=t.split(/:(.*)/);return f&&!s.isUndefined(r)&&(o[f.trim()]=r.trim()),o},{}):{}}catch{return{}}}function j(e,n="update"){e._connected&&e._updates.length&&(e._updateCount||(e._updateCount=0,requestAnimationFrame(()=>e._updateCount=0)),e._queued||(e._queued=new Set,s.fastdom.read(()=>{e._connected&&V(e,e._queued),e._queued=null})),e._updateCount++<20&&e._queued.add(n.type||n))}function V(e,n){for(const{read:o,write:t,events:f=[]}of e._updates){if(!n.has("update")&&!f.some(a=>n.has(a)))continue;let r;o&&(r=o.call(e,e._data,n),r&&s.isPlainObject(r)&&s.assign(e._data,r)),t&&r!==!1&&s.fastdom.write(()=>{e._connected&&t.call(e,e._data,n)})}}function B(e){return T(s.observeResize,e,"resize")}function S(e){return T(s.observeMutation,e)}function T(e,n,o){return{observe:e,handler(){j(this,o)},...n}}S({options:{childList:!0}}),S({options:{attributes:!0,attributeFilter:["style"]}}),B({handler(e){for(const{borderBoxSize:[{inlineSize:n,blockSize:o}]}of e)if(n||o){this.$emit("resize");return}},target:({$el:e})=>[e,...s.children(e)]});function L(e){const n=[[]],o=e.some((t,f)=>f&&e[f-1].offsetParent!==t.offsetParent);for(const t of e){if(!s.isVisible(t))continue;const f=b(t,o);for(let r=n.length-1;r>=0;r--){const a=n[r];if(!a[0]){a.push(t);break}const c=b(a[0],o);if(f.top>=c.bottom-1&&f.top!==c.top){n.push([t]);break}if(f.bottom-1>c.top||f.top===c.top){let p=a.length-1;for(;p>=0;p--){const m=b(a[p],o);if(f.left>=m.left)break}a.splice(p+1,0,t);break}if(r===0){n.unshift([t]);break}}}return n}function b(e,n=!1){let{offsetTop:o,offsetLeft:t,offsetHeight:f,offsetWidth:r}=e;return n&&([o,t]=s.offsetPosition(e)),{top:o,left:t,bottom:o+f,right:t+r}}const v="uk-transition-leave",P="uk-transition-enter";function $(e,n,o,t=0){const f=g(n,!0),r={opacity:1},a={opacity:0},c=()=>f===g(n),p=i=>()=>c()?i():Promise.reject(),m=p(async()=>{s.addClass(n,v),await(t?Promise.all(F(n).map(async(i,u)=>(await C(u*t),s.Transition.start(i,a,o/2,"ease")))):s.Transition.start(n,a,o/2,"ease")),s.removeClass(n,v)}),l=p(async()=>{const i=s.height(n);s.addClass(n,P),e(),s.css(t?s.children(n):n,a),s.height(n,i),await C(),s.height(n,"");const u=s.height(n);s.css(n,"alignContent","flex-start"),s.height(n,i);let d=[],h=o/2;if(t){const w=F(n);s.css(s.children(n),a),d=w.map(async(O,X)=>{await C(X*t),await s.Transition.start(O,r,o/2,"ease"),c()&&s.resetProps(O,r)}),h+=w.length*t}if(!t||i!==u){const w={height:u,...t?{}:r};d.push(s.Transition.start(n,w,h,"ease"))}await Promise.all(d),s.removeClass(n,P),c()&&(s.resetProps(n,{height:"",alignContent:"",...r}),delete n.dataset.transition)});return s.hasClass(n,v)?_(n).then(l):s.hasClass(n,P)?_(n).then(m).then(l):m().then(l)}function g(e,n){return n&&(e.dataset.transition=1+g(e)),s.toNumber(e.dataset.transition)||0}function _(e){return Promise.all(s.children(e).filter(s.Transition.inProgress).map(n=>new Promise(o=>s.once(n,"transitionend transitioncanceled",o))))}function F(e){return L(s.children(e)).flat().filter(s.isVisible)}function C(e){return new Promise(n=>setTimeout(n,e))}async function N(e,n,o){await q();let t=s.children(n);const f=t.map(d=>I(d,!0)),r={...s.css(n,["height","padding"]),display:"block"},a=t.concat(n);await Promise.all(a.map(s.Transition.cancel)),s.css(a,"transitionProperty","none"),await e(),t=t.concat(s.children(n).filter(d=>!s.includes(t,d))),await Promise.resolve(),s.css(a,"transitionProperty","");const c=s.attr(n,"style"),p=s.css(n,["height","padding"]),[m,l]=D(n,t,f),i=t.map(d=>({style:s.attr(d,"style")}));t.forEach((d,h)=>l[h]&&s.css(d,l[h])),s.css(n,r),s.trigger(n,"scroll"),await q();const u=t.map((d,h)=>s.parent(d)===n&&s.Transition.start(d,m[h],o,"ease")).concat(s.Transition.start(n,p,o,"ease"));try{await Promise.all(u),t.forEach((d,h)=>{s.attr(d,i[h]),s.parent(d)===n&&s.css(d,"display",m[h].opacity===0?"none":"")}),s.attr(n,"style",c)}catch{s.attr(t,"style",""),s.resetProps(n,r)}}function I(e,n){const o=s.css(e,"zIndex");return s.isVisible(e)?{display:"",opacity:n?s.css(e,"opacity"):"0",pointerEvents:"none",position:"absolute",zIndex:o==="auto"?s.index(e):o,...x(e)}:!1}function D(e,n,o){const t=n.map((r,a)=>s.parent(r)&&a in o?o[a]?s.isVisible(r)?x(r):{opacity:0}:{opacity:s.isVisible(r)?1:0}:!1),f=t.map((r,a)=>{const c=s.parent(n[a])===e&&(o[a]||I(n[a]));if(!c)return!1;if(!r)delete c.opacity;else if(!("opacity"in r)){const{opacity:p}=c;p%1?r.opacity=1:delete c.opacity}return c});return[t,f]}function x(e){const{height:n,width:o}=s.dimensions(e);return{height:n,width:o,transform:"",...s.position(e),...s.css(e,["marginTop","marginLeft"])}}function q(){return new Promise(e=>requestAnimationFrame(e))}var H={props:{duration:Number,animation:Boolean},data:{duration:150,animation:"slide"},methods:{animate(e,n=this.$el){const o=this.animation;return(o==="fade"?$:o==="delayed-fade"?(...f)=>$(...f,40):o?N:()=>(e(),Promise.resolve()))(e,n,this.duration).catch(s.noop)}}};function M(e){e.target.closest('a[href="#"],a[href=""]')&&e.preventDefault()}const W={SPACE:32};var z={mixins:[H],args:"target",props:{target:String,selActive:Boolean},data:{target:"",selActive:!1,attrItem:"uk-filter-control",cls:"uk-active",duration:250},computed:{children:({target:e},n)=>s.$$(`${e} > *`,n),toggles:({attrItem:e},n)=>s.$$(`[${e}],[data-${e}]`,n)},watch:{toggles(e){this.updateState();const n=s.$$(this.selActive,this.$el);for(const o of e){this.selActive!==!1&&s.toggleClass(o,this.cls,s.includes(n,o));const t=Q(o);s.isTag(t,"a")&&(t.role="button")}},children(e,n){n&&this.updateState()}},events:{name:"click keydown",delegate:({attrItem:e})=>`[${e}],[data-${e}]`,handler(e){e.type==="keydown"&&e.keyCode!==W.SPACE||e.target.closest("a,button")&&(M(e),this.apply(e.current))}},methods:{apply(e){const n=this.getState(),o=A(e,this.attrItem,this.getState());R(n,o)||this.setState(o)},getState(){return this.toggles.filter(e=>s.hasClass(e,this.cls)).reduce((e,n)=>A(n,this.attrItem,e),{filter:{"":""},sort:[]})},async setState(e,n=!0){e={filter:{"":""},sort:[],...e},s.trigger(this.$el,"beforeFilter",[this,e]);for(const o of this.toggles)s.toggleClass(o,this.cls,G(o,this.attrItem,e));await Promise.all(s.$$(this.target,this.$el).map(o=>{const t=()=>J(e,o,s.children(o));return n?this.animate(t,o):t()})),s.trigger(this.$el,"afterFilter",[this])},updateState(){s.fastdom.write(()=>this.setState(this.getState(),!1))}}};function E(e,n){return y(s.data(e,n),["filter"])}function R(e,n){return["filter","sort"].every(o=>s.isEqual(e[o],n[o]))}function J(e,n,o){for(const r of o)s.css(r,"display",Object.values(e.filter).every(a=>!a||s.matches(r,a))?"":"none");const[t,f]=e.sort;if(t){const r=K(o,t,f);s.isEqual(r,o)||s.append(n,r)}}function A(e,n,o){const{filter:t,group:f,sort:r,order:a="asc"}=E(e,n);return(t||s.isUndefined(r))&&(f?t?(delete o.filter[""],o.filter[f]=t):(delete o.filter[f],(s.isEmpty(o.filter)||""in o.filter)&&(o.filter={"":t||""})):o.filter={"":t||""}),s.isUndefined(r)||(o.sort=[r,a]),o}function G(e,n,{filter:o={"":""},sort:[t,f]}){const{filter:r="",group:a="",sort:c,order:p="asc"}=E(e,n);return s.isUndefined(c)?a in o&&r===o[a]||!r&&a&&!(a in o)&&!o[""]:t===c&&f===p}function K(e,n,o){return[...e].sort((t,f)=>s.data(t,n).localeCompare(s.data(f,n),void 0,{numeric:!0})*(o==="asc"||-1))}function Q(e){return s.$("a,button",e)||e}return typeof window<"u"&&window.UIkit&&window.UIkit.component("filter",z),z}));
